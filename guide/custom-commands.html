<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Custom Commands | Naninovel</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/assets/img/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/assets/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="A full-featured, writer-friendly and completely customizable visual novel extension for Unity game engine.">
    <meta name="theme-color" content="#4985c2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="og:image" content="/assets/img/og.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="msapplication-TileImage" content="/assets/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="google-site-verification" content="cdvgJ2XFFbaGErDKJtTbFj9u9frfReZ9rzUnsf9F6nI">
    <link rel="preload" href="/assets/css/0.styles.49cf1a7f.css" as="style"><link rel="preload" href="/assets/js/app.f7b7704a.js" as="script"><link rel="preload" href="/assets/js/3.30b146c6.js" as="script"><link rel="preload" href="/assets/js/20.2010cd56.js" as="script"><link rel="prefetch" href="/assets/js/10.792d98f9.js"><link rel="prefetch" href="/assets/js/100.cae5e1e7.js"><link rel="prefetch" href="/assets/js/101.fce40be3.js"><link rel="prefetch" href="/assets/js/102.5f2b25d8.js"><link rel="prefetch" href="/assets/js/103.65239589.js"><link rel="prefetch" href="/assets/js/104.dde63a15.js"><link rel="prefetch" href="/assets/js/105.885e262b.js"><link rel="prefetch" href="/assets/js/106.78e80100.js"><link rel="prefetch" href="/assets/js/107.805ab2e4.js"><link rel="prefetch" href="/assets/js/108.e0ee22eb.js"><link rel="prefetch" href="/assets/js/109.8ab06377.js"><link rel="prefetch" href="/assets/js/11.fbd58430.js"><link rel="prefetch" href="/assets/js/110.fbc2677a.js"><link rel="prefetch" href="/assets/js/111.13e004e0.js"><link rel="prefetch" href="/assets/js/112.d578a943.js"><link rel="prefetch" href="/assets/js/113.5ed4cce1.js"><link rel="prefetch" href="/assets/js/114.7e001b6a.js"><link rel="prefetch" href="/assets/js/115.b7ba2d1c.js"><link rel="prefetch" href="/assets/js/116.d3826aac.js"><link rel="prefetch" href="/assets/js/117.45f408f7.js"><link rel="prefetch" href="/assets/js/118.0050ec4f.js"><link rel="prefetch" href="/assets/js/119.06a577ff.js"><link rel="prefetch" href="/assets/js/12.d99a03aa.js"><link rel="prefetch" href="/assets/js/120.144868a9.js"><link rel="prefetch" href="/assets/js/121.980ed559.js"><link rel="prefetch" href="/assets/js/122.eeacf352.js"><link rel="prefetch" href="/assets/js/123.7044c7fd.js"><link rel="prefetch" href="/assets/js/124.7ffdef5a.js"><link rel="prefetch" href="/assets/js/125.170dee3f.js"><link rel="prefetch" href="/assets/js/126.e6cd1201.js"><link rel="prefetch" href="/assets/js/127.670d6921.js"><link rel="prefetch" href="/assets/js/128.2b2fe85e.js"><link rel="prefetch" href="/assets/js/129.50732856.js"><link rel="prefetch" href="/assets/js/13.0f83f52b.js"><link rel="prefetch" href="/assets/js/130.6c8d6e85.js"><link rel="prefetch" href="/assets/js/131.957cfaac.js"><link rel="prefetch" href="/assets/js/132.a4351edc.js"><link rel="prefetch" href="/assets/js/133.ee016920.js"><link rel="prefetch" href="/assets/js/134.b4135549.js"><link rel="prefetch" href="/assets/js/135.3a31e0dc.js"><link rel="prefetch" href="/assets/js/136.c312d115.js"><link rel="prefetch" href="/assets/js/137.90c29127.js"><link rel="prefetch" href="/assets/js/138.e916ba65.js"><link rel="prefetch" href="/assets/js/139.83612634.js"><link rel="prefetch" href="/assets/js/14.47e0dd51.js"><link rel="prefetch" href="/assets/js/140.8e90f261.js"><link rel="prefetch" href="/assets/js/141.d42d1fa4.js"><link rel="prefetch" href="/assets/js/142.58d63f4f.js"><link rel="prefetch" href="/assets/js/143.f9888764.js"><link rel="prefetch" href="/assets/js/144.8e58d081.js"><link rel="prefetch" href="/assets/js/145.411e9de9.js"><link rel="prefetch" href="/assets/js/146.36bb38a0.js"><link rel="prefetch" href="/assets/js/147.105a7d8e.js"><link rel="prefetch" href="/assets/js/148.2e24332d.js"><link rel="prefetch" href="/assets/js/149.cddcb717.js"><link rel="prefetch" href="/assets/js/15.49aba560.js"><link rel="prefetch" href="/assets/js/150.2109e006.js"><link rel="prefetch" href="/assets/js/151.9ec01c74.js"><link rel="prefetch" href="/assets/js/152.b83fe3a2.js"><link rel="prefetch" href="/assets/js/153.c849af7f.js"><link rel="prefetch" href="/assets/js/154.c6b31773.js"><link rel="prefetch" href="/assets/js/155.4b85fd4b.js"><link rel="prefetch" href="/assets/js/156.9282cb29.js"><link rel="prefetch" href="/assets/js/157.2eadfc1c.js"><link rel="prefetch" href="/assets/js/158.8d945135.js"><link rel="prefetch" href="/assets/js/159.8512a998.js"><link rel="prefetch" href="/assets/js/16.2c2e9106.js"><link rel="prefetch" href="/assets/js/160.bb04ab5b.js"><link rel="prefetch" href="/assets/js/161.e26eba48.js"><link rel="prefetch" href="/assets/js/162.c2082cee.js"><link rel="prefetch" href="/assets/js/163.bbe11604.js"><link rel="prefetch" href="/assets/js/164.aecb7283.js"><link rel="prefetch" href="/assets/js/165.7f526ee5.js"><link rel="prefetch" href="/assets/js/166.767b6267.js"><link rel="prefetch" href="/assets/js/167.71586df0.js"><link rel="prefetch" href="/assets/js/168.4154eb50.js"><link rel="prefetch" href="/assets/js/169.1d9d157b.js"><link rel="prefetch" href="/assets/js/17.17a40acd.js"><link rel="prefetch" href="/assets/js/170.37ee6b72.js"><link rel="prefetch" href="/assets/js/171.69acc524.js"><link rel="prefetch" href="/assets/js/172.005e8efa.js"><link rel="prefetch" href="/assets/js/173.1836a4b2.js"><link rel="prefetch" href="/assets/js/174.800ebcf7.js"><link rel="prefetch" href="/assets/js/175.c43ff4cb.js"><link rel="prefetch" href="/assets/js/176.c490a1f1.js"><link rel="prefetch" href="/assets/js/177.7fec4c7b.js"><link rel="prefetch" href="/assets/js/178.d3cbba08.js"><link rel="prefetch" href="/assets/js/179.ea255785.js"><link rel="prefetch" href="/assets/js/18.f5237a0a.js"><link rel="prefetch" href="/assets/js/180.ae3ec8ad.js"><link rel="prefetch" href="/assets/js/181.741e2273.js"><link rel="prefetch" href="/assets/js/182.06028277.js"><link rel="prefetch" href="/assets/js/183.5e0e99b2.js"><link rel="prefetch" href="/assets/js/184.2bace734.js"><link rel="prefetch" href="/assets/js/185.56a860c2.js"><link rel="prefetch" href="/assets/js/186.7ec21880.js"><link rel="prefetch" href="/assets/js/187.57651176.js"><link rel="prefetch" href="/assets/js/188.651c35d0.js"><link rel="prefetch" href="/assets/js/189.7804066d.js"><link rel="prefetch" href="/assets/js/19.c4736f0d.js"><link rel="prefetch" href="/assets/js/190.9b9f90f2.js"><link rel="prefetch" href="/assets/js/191.f3b3061f.js"><link rel="prefetch" href="/assets/js/192.66e55b1e.js"><link rel="prefetch" href="/assets/js/193.47c91fd7.js"><link rel="prefetch" href="/assets/js/194.1b58bc31.js"><link rel="prefetch" href="/assets/js/195.942b89aa.js"><link rel="prefetch" href="/assets/js/196.b6400034.js"><link rel="prefetch" href="/assets/js/197.b77b0db9.js"><link rel="prefetch" href="/assets/js/198.af1c2046.js"><link rel="prefetch" href="/assets/js/199.53a00c62.js"><link rel="prefetch" href="/assets/js/200.dd1e87a2.js"><link rel="prefetch" href="/assets/js/201.9e91fbbe.js"><link rel="prefetch" href="/assets/js/202.21068519.js"><link rel="prefetch" href="/assets/js/203.a2f964fa.js"><link rel="prefetch" href="/assets/js/21.b437d752.js"><link rel="prefetch" href="/assets/js/22.20432130.js"><link rel="prefetch" href="/assets/js/23.154b4447.js"><link rel="prefetch" href="/assets/js/24.319adf3a.js"><link rel="prefetch" href="/assets/js/25.279422cd.js"><link rel="prefetch" href="/assets/js/26.249884c1.js"><link rel="prefetch" href="/assets/js/27.72108e6f.js"><link rel="prefetch" href="/assets/js/28.afff729a.js"><link rel="prefetch" href="/assets/js/29.7313d0e0.js"><link rel="prefetch" href="/assets/js/30.a992a268.js"><link rel="prefetch" href="/assets/js/31.8a114259.js"><link rel="prefetch" href="/assets/js/32.283f0009.js"><link rel="prefetch" href="/assets/js/33.f1ec26c7.js"><link rel="prefetch" href="/assets/js/34.ae2d7165.js"><link rel="prefetch" href="/assets/js/35.4db9ba94.js"><link rel="prefetch" href="/assets/js/36.ea326b1a.js"><link rel="prefetch" href="/assets/js/37.364bb30a.js"><link rel="prefetch" href="/assets/js/38.212beda4.js"><link rel="prefetch" href="/assets/js/39.facff110.js"><link rel="prefetch" href="/assets/js/4.d5ff7d0b.js"><link rel="prefetch" href="/assets/js/40.48c60cab.js"><link rel="prefetch" href="/assets/js/41.91f4a3b3.js"><link rel="prefetch" href="/assets/js/42.7ffd6820.js"><link rel="prefetch" href="/assets/js/43.0917d354.js"><link rel="prefetch" href="/assets/js/44.227ab553.js"><link rel="prefetch" href="/assets/js/45.9ab35aaa.js"><link rel="prefetch" href="/assets/js/46.36354efb.js"><link rel="prefetch" href="/assets/js/47.35d35cc8.js"><link rel="prefetch" href="/assets/js/48.0a3ac5d3.js"><link rel="prefetch" href="/assets/js/49.93cff00c.js"><link rel="prefetch" href="/assets/js/5.fc2ff992.js"><link rel="prefetch" href="/assets/js/50.7f7833b2.js"><link rel="prefetch" href="/assets/js/51.abc53744.js"><link rel="prefetch" href="/assets/js/52.66b4ecb9.js"><link rel="prefetch" href="/assets/js/53.c8f9e9e2.js"><link rel="prefetch" href="/assets/js/54.3045d0ad.js"><link rel="prefetch" href="/assets/js/55.d0b3e449.js"><link rel="prefetch" href="/assets/js/56.9304b0d7.js"><link rel="prefetch" href="/assets/js/57.a1b3a83d.js"><link rel="prefetch" href="/assets/js/58.ddc48b99.js"><link rel="prefetch" href="/assets/js/59.965471c3.js"><link rel="prefetch" href="/assets/js/6.489b006c.js"><link rel="prefetch" href="/assets/js/60.edcbb08b.js"><link rel="prefetch" href="/assets/js/61.9b609913.js"><link rel="prefetch" href="/assets/js/62.0c049a8e.js"><link rel="prefetch" href="/assets/js/63.fb347126.js"><link rel="prefetch" href="/assets/js/64.177af9e6.js"><link rel="prefetch" href="/assets/js/65.f784bfdc.js"><link rel="prefetch" href="/assets/js/66.5c768f06.js"><link rel="prefetch" href="/assets/js/67.ca102290.js"><link rel="prefetch" href="/assets/js/68.83231a2c.js"><link rel="prefetch" href="/assets/js/69.88d914bd.js"><link rel="prefetch" href="/assets/js/7.50e15038.js"><link rel="prefetch" href="/assets/js/70.a16525f4.js"><link rel="prefetch" href="/assets/js/71.a3fb68e3.js"><link rel="prefetch" href="/assets/js/72.68c2fb0b.js"><link rel="prefetch" href="/assets/js/73.975f2524.js"><link rel="prefetch" href="/assets/js/74.b80b3076.js"><link rel="prefetch" href="/assets/js/75.b016daf2.js"><link rel="prefetch" href="/assets/js/76.3c954aa7.js"><link rel="prefetch" href="/assets/js/77.8428fd77.js"><link rel="prefetch" href="/assets/js/78.7bf41a80.js"><link rel="prefetch" href="/assets/js/79.ebabafb5.js"><link rel="prefetch" href="/assets/js/8.012c3b7f.js"><link rel="prefetch" href="/assets/js/80.f721281e.js"><link rel="prefetch" href="/assets/js/81.59fba47e.js"><link rel="prefetch" href="/assets/js/82.d72210e4.js"><link rel="prefetch" href="/assets/js/83.c2b0d777.js"><link rel="prefetch" href="/assets/js/84.83e8b806.js"><link rel="prefetch" href="/assets/js/85.74a54c0a.js"><link rel="prefetch" href="/assets/js/86.a52896b5.js"><link rel="prefetch" href="/assets/js/87.5ee91f44.js"><link rel="prefetch" href="/assets/js/88.461bd4eb.js"><link rel="prefetch" href="/assets/js/89.86707861.js"><link rel="prefetch" href="/assets/js/9.77094dac.js"><link rel="prefetch" href="/assets/js/90.cab6f8e3.js"><link rel="prefetch" href="/assets/js/91.63d965a3.js"><link rel="prefetch" href="/assets/js/92.389c9ac4.js"><link rel="prefetch" href="/assets/js/93.6794cced.js"><link rel="prefetch" href="/assets/js/94.dba53e49.js"><link rel="prefetch" href="/assets/js/95.89edf4cf.js"><link rel="prefetch" href="/assets/js/96.d6480f63.js"><link rel="prefetch" href="/assets/js/97.bbdcc7d9.js"><link rel="prefetch" href="/assets/js/98.09783dec.js"><link rel="prefetch" href="/assets/js/99.611363fb.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.72c12505.js">
    <link rel="stylesheet" href="/assets/css/0.styles.49cf1a7f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="https://naninovel.com"><!----> <span class="site-name">Naninovel</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/faq/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  Commands
</a></div><div class="nav-item"><a href="/support/" class="nav-link">
  Support
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language" class="dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/custom-commands.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/ja/guide/custom-commands.html" class="nav-link">
  日本語
</a></li><li class="dropdown-item"><!----> <a href="/zh/guide/custom-commands.html" class="nav-link">
  中文
</a></li><li class="dropdown-item"><!----> <a href="/ru/guide/custom-commands.html" class="nav-link">
  Русский
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/faq/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  Commands
</a></div><div class="nav-item"><a href="/support/" class="nav-link">
  Support
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language" class="dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/custom-commands.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/ja/guide/custom-commands.html" class="nav-link">
  日本語
</a></li><li class="dropdown-item"><!----> <a href="/zh/guide/custom-commands.html" class="nav-link">
  中文
</a></li><li class="dropdown-item"><!----> <a href="/ru/guide/custom-commands.html" class="nav-link">
  Русский
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Advanced</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/engine-architecture.html" class="sidebar-link">Engine Architecture</a></li><li><a href="/guide/engine-services.html" class="sidebar-link">Engine Services</a></li><li><a href="/guide/custom-commands.html" aria-current="page" class="active sidebar-link">Custom Commands</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/custom-commands.html#adding-custom-command" class="sidebar-link">Adding Custom Command</a></li><li class="sidebar-sub-header"><a href="/guide/custom-commands.html#overriding-built-in-command" class="sidebar-link">Overriding Built-In Command</a></li><li class="sidebar-sub-header"><a href="/guide/custom-commands.html#ide-metadata" class="sidebar-link">IDE Metadata</a></li></ul></li><li><a href="/guide/custom-configuration.html" class="sidebar-link">Custom Configuration</a></li><li><a href="/guide/custom-actor-implementations.html" class="sidebar-link">Custom Actor Implementations</a></li><li><a href="/guide/custom-actor-shader.html" class="sidebar-link">Custom Actor Shader</a></li><li><a href="/guide/custom-parser.html" class="sidebar-link">Custom Script Parser</a></li><li><a href="/guide/state-management.html" class="sidebar-link">State Management</a></li><li><a href="/guide/integration-options.html" class="sidebar-link">Integration Options</a></li><li><a href="/guide/render-pipelines.html" class="sidebar-link">Render Pipelines</a></li><li><a href="/guide/custom-build-environment.html" class="sidebar-link">Custom Build Environment</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Extensions</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="custom-commands"><a href="#custom-commands" class="header-anchor">#</a> Custom Commands</h1> <p>Command represents a single operation, that controls what happens on the scene; e.g., it can be used to change a background, move a character or load another naninovel script. Parametrized command sequences defined in <a href="/guide/naninovel-scripts.html">naninovel scripts</a> effectively controls the game flow. You can find available built-in commands in the <a href="/api/">API reference</a>. In code, all the built-in script command implementations are defined under <code>Naninovel.Commands</code> namespace.</p> <h2 id="adding-custom-command"><a href="#adding-custom-command" class="header-anchor">#</a> Adding Custom Command</h2> <p>To add your own custom script command, create a new C# class derived from <code>Command</code> and implement <code>ExecuteAsync</code> abstract method. The created class will automatically be picked up by the engine and you'll be able to invoke the command from the naninovel scripts by either the class name or an alias (if assigned). To assign an alias to the naninovel command, apply <code>CommandAlias</code> attribute to the class.</p> <div class="custom-block warn"><p class="custom-block-title">WARNING</p> <p>When adding custom implementation types under a non-predefined assembly (via <a href="https://docs.unity3d.com/Manual/ScriptCompilationAssemblyDefinitionFiles.html" target="_blank" rel="noopener noreferrer">assembly definitions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>), add the assembly name to the <code>Type Assemblies</code> list found in the engine configuration menu. Otherwise, the engine won't be able to locate your custom types.</p></div> <p><code>ExecuteAsync</code> is an async method invoked when the command is executed by the scripts player; put the command logic there. Use <a href="/guide/engine-services.html">engine services</a> to access the engine built-in systems. Naninovel script execution will halt until this method returns a completed task in case <code>Wait</code> parameter is <code>true</code>.</p> <p>To expose a command parameter to naninovel scripts, add a public field to the command class with one of the supported types:</p> <table><thead><tr><th>Field Type</th> <th>Value Type</th> <th>Script Example</th></tr></thead> <tbody><tr><td>StringParameter</td> <td>String</td> <td><code>LoremIpsum</code>, <code>&quot;Lorem ipsum&quot;</code></td></tr> <tr><td>IntegerParameter</td> <td>Int32</td> <td><code>10</code>, <code>0</code>, <code>-1</code></td></tr> <tr><td>DecimalParameter</td> <td>Single</td> <td><code>0.525</code>, <code>-55.1</code></td></tr> <tr><td>BooleanParameter</td> <td>Boolean</td> <td><code>true</code>, <code>false</code></td></tr> <tr><td>NamedStringParameter</td> <td>NamedString</td> <td><code>Script001.LabelName</code>, <code>.LabelName</code></td></tr> <tr><td>NamedIntegerParameter</td> <td>NamedInteger</td> <td><code>Yuko.5</code></td></tr> <tr><td>NamedDecimalParameter</td> <td>NamedFloat</td> <td><code>Kohaku.-10.25</code></td></tr> <tr><td>NamedBooleanParameter</td> <td>NamedBoolean</td> <td><code>Misaki.false</code></td></tr> <tr><td>StringListParameter</td> <td>List&lt;String&gt;</td> <td><code>Lorem,ipsum,&quot;doler sit amet&quot;</code></td></tr> <tr><td>IntegerListParameter</td> <td>List&lt;Int32&gt;</td> <td><code>10,-1,0</code></td></tr> <tr><td>DecimalListParameter</td> <td>List&lt;Single&gt;</td> <td><code>0.2,10.5,-88.99</code></td></tr> <tr><td>BooleanListParameter</td> <td>List&lt;Boolean&gt;</td> <td><code>true,false,true</code></td></tr> <tr><td>NamedStringListParameter</td> <td>List&lt;NamedString&gt;</td> <td><code>Felix.Happy,Jenna.Confidence</code></td></tr> <tr><td>NamedIntegerListParameter</td> <td>List&lt;NamedInteger&gt;</td> <td><code>Yuko.5,Misaki.-8</code></td></tr> <tr><td>NamedDecimalListParameter</td> <td>List&lt;NamedFloat&gt;</td> <td><code>Nanikun.88.99,Yuko.-5.1</code></td></tr> <tr><td>NamedBooleanListParameter</td> <td>List&lt;NamedBoolean&gt;</td> <td><code>Misaki.false,Kohaku.true</code></td></tr></tbody></table> <p>Optionally, you can apply <code>[ParameterAlias]</code> attribute to the field to assign an alias name to the parameter allowing it to be used instead of the field name when referencing the parameter in naninovel scripts. If you wish to make the parameter nameless, set <code>NamelessParameterAlias</code> constant (empty string) as the alias; please note, that only one nameless parameter is allowed per command.</p> <p>To make parameter required (causing an error to be logged when it's not specified in naninovel script), apply <code>[RequiredParameter]</code> attribute to the field. When the attribute is not applied, parameter is considered optional.</p> <p>All the parameter types have <code>HasValue</code> property, which you can use to test whether the parameter has been assigned in naninovel script; optionally, you can use <code>Assigned()</code> static method, which takes a parameter instance and returns true when the provided parameter is not null and has a value assigned.</p> <p>In case execution of the command requires loading some resources, implement <code>Command.IPreloadable</code> interface to preload the required resources when the game is loading.</p> <p>In case the command has parameters that can be localized (text directly presented to the user, usually), implement <code>Command.ILocalizable</code> interface to add the command to the generated <a href="/guide/localization.html#scripts-localization">script localization</a> documents.</p> <p>You can find scripts with all the built-in command implementations at <code>Naninovel/Runtime/Commands</code> package folder; feel free to use them as a reference when implementing your own custom commands.</p> <p>Below is an example of a custom command, that can be invoked from naninovel scripts as <code>@HelloWorld</code> or <code>@hello</code> to print &quot;Hello World!&quot; to the console and can also take an optional <code>name</code> parameter (eg, <code>@hello name:Felix</code>) to greet the provided name instead of the world.</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token namespace">Naninovel</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Naninovel<span class="token punctuation">.</span>Commands</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">UniRx<span class="token punctuation">.</span>Async</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">UnityEngine</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">CommandAlias</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Command</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">StringParameter</span> Name<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">UniTask</span> ExecuteAsync <span class="token punctuation">(</span><span class="token class-name">CancellationToken</span> cancellationToken <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Assigned</span><span class="token punctuation">(</span>Name<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;Hello, </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Name</span><span class="token punctuation">}</span></span><span class="token string">!&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> UniTask<span class="token punctuation">.</span>CompletedTask<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Notice the optional <code>CancellationToken</code> argument. When using <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/" target="_blank" rel="noopener noreferrer">async methods<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, make sure to check the token for cancellation requests and react accordingly. <code>CancelASAP</code> means the engine has either been destroyed or performing a state reset; in both cases it's no longer safe to use the engine APIs and any mutation to the state could cause issues, so the command should return immediately, discarding any currently performed activities. <code>CancelLazy</code> means the command is expected to complete all the activities as fast as possible; eg, if you're running animations, finish them instantly, no matter the initial duration.</p> <div class="custom-block example"><p class="custom-block-title">EXAMPLE</p> <p>Another example of adding custom commands to add/remove items of an inventory system can be found in the <a href="https://github.com/Naninovel/Inventory" target="_blank" rel="noopener noreferrer">inventory example project on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Specifically, the command implementations are stored at <a href="https://github.com/Naninovel/Inventory/tree/master/Assets/NaninovelInventory/Runtime/Commands" target="_blank" rel="noopener noreferrer">Runtime/Commands<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> directory.</p></div> <h2 id="overriding-built-in-command"><a href="#overriding-built-in-command" class="header-anchor">#</a> Overriding Built-In Command</h2> <p>In some cases it could be useful to override built-in Naninovel commands. For example, you may want to change how <a href="/api/#print" target="_blank"><code>@print</code></a> commands work without adding a custom one, so that the change will also affect <a href="/guide/naninovel-scripts.html#generic-text-lines">generic text lines</a> (text from the generic lines is parsed into the print commands under the hood).</p> <p>To override a built-in command, add a custom one and apply the same alias built-in command has. Reimport the naninovel scripts (right-click over a folder they're stored at, then click &quot;Reimport&quot;) after overriding a command in order for the changes to take effect. The custom command will then automatically be used instead of the built-in one when playing a naninovel script.</p> <p>Below is an example of overriding built-in <a href="/api/#print" target="_blank"><code>@print</code></a> command, so that the printed text will be logged into the console before being revealed to the player.</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">CommandAlias</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;print&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyCustomPrintCommand</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">PrintText</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">UniTask</span> ExecuteAsync <span class="token punctuation">(</span><span class="token class-name">CancellationToken</span> cancellationToken <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>Text<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">ExecuteAsync</span><span class="token punctuation">(</span>cancellationToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block example"><p class="custom-block-title">EXAMPLE</p> <p>Find a more useful example of overriding built-in commands <a href="https://forum.naninovel.com/viewtopic.php?f=8&amp;t=53" target="_blank" rel="noopener noreferrer">on the forum<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. An overridden and custom commands will allow changing reveal speed right inside generic text lines, eg:</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token generic-text punctuation">Yuko: <span class="token inline-command function"><span class="token start-stop-char">[</span><span class="token command-param-name name">s</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">0.1</span><span class="token start-stop-char">]</span></span> Print text 10 times slower than usual. <span class="token inline-command function"><span class="token start-stop-char">[</span><span class="token command-param-name name">s</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">2</span><span class="token start-stop-char">]</span></span> Print 2 times faster.</span>
</code></pre></div></div> <h2 id="ide-metadata"><a href="#ide-metadata" class="header-anchor">#</a> IDE Metadata</h2> <p>When adding custom commands, you may notice that they're highlighted as errors in IDE extensions. That is due to metadata of the custom commands is not available to the extensions. You can use IDE metadata tool to automatically generate the required metadata file over all the custom commands present in the project; see the <a href="/guide/ide-extension.html#ide-metadata">IDE extension guide</a> for more information.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">March 6, 2021</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/engine-services.html" class="prev">
        Engine Services
      </a></span> <span class="next"><a href="/guide/custom-configuration.html">
        Custom Configuration
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f7b7704a.js" defer></script><script src="/assets/js/3.30b146c6.js" defer></script><script src="/assets/js/20.2010cd56.js" defer></script>
  </body>
</html>
