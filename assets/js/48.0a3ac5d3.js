(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{521:function(s,a,t){"use strict";t.r(a);var n=t(42),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"unitask"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#unitask"}},[s._v("#")]),s._v(" UniTask")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/Cysharp/UniTask",target:"_blank",rel:"noopener noreferrer"}},[s._v("UniTask"),t("OutboundLink")],1),s._v(" is an open-sourced (MIT license) library providing a more efficient "),t("a",{attrs:{href:"https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/task-based-asynchronous-programming",target:"_blank",rel:"noopener noreferrer"}},[s._v("Task-based asynchronous programming"),t("OutboundLink")],1),s._v(" implementation for Unity. You can find more details regarding the nature of optimizations and usage examples in the "),t("a",{attrs:{href:"https://medium.com/@neuecc/a1ff0766029",target:"_blank",rel:"noopener noreferrer"}},[s._v("article by the author of the library"),t("OutboundLink")],1),s._v(".")]),s._v(" "),t("p",[s._v("Naninovel uses a stripped and modified version of UniTask v1, which is embedded inside the engine runtime assembly; most of the asynchronous methods return "),t("code",[s._v("UniTask")]),s._v(" objects, which you can await in the same way as default "),t("code",[s._v("Task")]),s._v(' objects from the "System.Threading" namespace.')]),s._v(" "),t("p",[s._v("In case you want to use full standalone UniTask library, install UniTask v2 from the official repository: "),t("a",{attrs:{href:"https://github.com/Cysharp/UniTask#install-via-git-url",target:"_blank",rel:"noopener noreferrer"}},[s._v("github.com/Cysharp/UniTask"),t("OutboundLink")],1),s._v(' and specify "UniRx.Async.UniTask" for the Naninovel APIs when required, eg:')]),s._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Using standalone UniTask v2 by default.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("Cysharp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Threading"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Tasks")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("UnityEngine")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("Naninovel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UniTaskCommand")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token type-list"}},[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Command")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// This method uses embedded UniTask v1.")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("override")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token return-type class-name"}},[s._v("UniRx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Async"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("UniTask")]),s._v(" ExecuteAsync "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CancellationToken")]),s._v(" cancellationToken "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")])]),s._v(" message "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("WaitAndReturnMessageAsync")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        Debug"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("message"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// This method uses standalone UniTask v2.")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token return-type class-name"}},[s._v("UniTask"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("string")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" WaitAndReturnMessageAsync "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" UniTask"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("DelayFrame")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello from UniTask v2!"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("div",{staticClass:"custom-block example"},[t("p",{staticClass:"custom-block-title"},[s._v("EXAMPLE")]),s._v(" "),t("p",[s._v("Find an example on using full standalone UniTask v2 installation with Naninovel in the following GitHub repository: "),t("a",{attrs:{href:"https://github.com/Naninovel/UniTask",target:"_blank",rel:"noopener noreferrer"}},[s._v("github.com/Naninovel/UniTask"),t("OutboundLink")],1),s._v(".")])])])}),[],!1,null,null,null);a.default=e.exports}}]);